% Options for packages loaded elsewhere
\PassOptionsToPackage{unicode}{hyperref}
\PassOptionsToPackage{hyphens}{url}
%
\documentclass[
  11pt,
]{book}
\usepackage{amsmath,amssymb}
\usepackage{iftex}
\ifPDFTeX
  \usepackage[T1]{fontenc}
  \usepackage[utf8]{inputenc}
  \usepackage{textcomp} % provide euro and other symbols
\else % if luatex or xetex
  \usepackage{unicode-math} % this also loads fontspec
  \defaultfontfeatures{Scale=MatchLowercase}
  \defaultfontfeatures[\rmfamily]{Ligatures=TeX,Scale=1}
\fi
\usepackage{lmodern}
\ifPDFTeX\else
  % xetex/luatex font selection
\fi
% Use upquote if available, for straight quotes in verbatim environments
\IfFileExists{upquote.sty}{\usepackage{upquote}}{}
\IfFileExists{microtype.sty}{% use microtype if available
  \usepackage[]{microtype}
  \UseMicrotypeSet[protrusion]{basicmath} % disable protrusion for tt fonts
}{}
\makeatletter
\@ifundefined{KOMAClassName}{% if non-KOMA class
  \IfFileExists{parskip.sty}{%
    \usepackage{parskip}
  }{% else
    \setlength{\parindent}{0pt}
    \setlength{\parskip}{6pt plus 2pt minus 1pt}}
}{% if KOMA class
  \KOMAoptions{parskip=half}}
\makeatother
\usepackage{xcolor}
\usepackage{color}
\usepackage{fancyvrb}
\newcommand{\VerbBar}{|}
\newcommand{\VERB}{\Verb[commandchars=\\\{\}]}
\DefineVerbatimEnvironment{Highlighting}{Verbatim}{commandchars=\\\{\}}
% Add ',fontsize=\small' for more characters per line
\usepackage{framed}
\definecolor{shadecolor}{RGB}{248,248,248}
\newenvironment{Shaded}{\begin{snugshade}}{\end{snugshade}}
\newcommand{\AlertTok}[1]{\textcolor[rgb]{0.94,0.16,0.16}{#1}}
\newcommand{\AnnotationTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textbf{\textit{#1}}}}
\newcommand{\AttributeTok}[1]{\textcolor[rgb]{0.13,0.29,0.53}{#1}}
\newcommand{\BaseNTok}[1]{\textcolor[rgb]{0.00,0.00,0.81}{#1}}
\newcommand{\BuiltInTok}[1]{#1}
\newcommand{\CharTok}[1]{\textcolor[rgb]{0.31,0.60,0.02}{#1}}
\newcommand{\CommentTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textit{#1}}}
\newcommand{\CommentVarTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textbf{\textit{#1}}}}
\newcommand{\ConstantTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{#1}}
\newcommand{\ControlFlowTok}[1]{\textcolor[rgb]{0.13,0.29,0.53}{\textbf{#1}}}
\newcommand{\DataTypeTok}[1]{\textcolor[rgb]{0.13,0.29,0.53}{#1}}
\newcommand{\DecValTok}[1]{\textcolor[rgb]{0.00,0.00,0.81}{#1}}
\newcommand{\DocumentationTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textbf{\textit{#1}}}}
\newcommand{\ErrorTok}[1]{\textcolor[rgb]{0.64,0.00,0.00}{\textbf{#1}}}
\newcommand{\ExtensionTok}[1]{#1}
\newcommand{\FloatTok}[1]{\textcolor[rgb]{0.00,0.00,0.81}{#1}}
\newcommand{\FunctionTok}[1]{\textcolor[rgb]{0.13,0.29,0.53}{\textbf{#1}}}
\newcommand{\ImportTok}[1]{#1}
\newcommand{\InformationTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textbf{\textit{#1}}}}
\newcommand{\KeywordTok}[1]{\textcolor[rgb]{0.13,0.29,0.53}{\textbf{#1}}}
\newcommand{\NormalTok}[1]{#1}
\newcommand{\OperatorTok}[1]{\textcolor[rgb]{0.81,0.36,0.00}{\textbf{#1}}}
\newcommand{\OtherTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{#1}}
\newcommand{\PreprocessorTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textit{#1}}}
\newcommand{\RegionMarkerTok}[1]{#1}
\newcommand{\SpecialCharTok}[1]{\textcolor[rgb]{0.81,0.36,0.00}{\textbf{#1}}}
\newcommand{\SpecialStringTok}[1]{\textcolor[rgb]{0.31,0.60,0.02}{#1}}
\newcommand{\StringTok}[1]{\textcolor[rgb]{0.31,0.60,0.02}{#1}}
\newcommand{\VariableTok}[1]{\textcolor[rgb]{0.00,0.00,0.00}{#1}}
\newcommand{\VerbatimStringTok}[1]{\textcolor[rgb]{0.31,0.60,0.02}{#1}}
\newcommand{\WarningTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textbf{\textit{#1}}}}
\usepackage{longtable,booktabs,array}
\usepackage{calc} % for calculating minipage widths
% Correct order of tables after \paragraph or \subparagraph
\usepackage{etoolbox}
\makeatletter
\patchcmd\longtable{\par}{\if@noskipsec\mbox{}\fi\par}{}{}
\makeatother
% Allow footnotes in longtable head/foot
\IfFileExists{footnotehyper.sty}{\usepackage{footnotehyper}}{\usepackage{footnote}}
\makesavenoteenv{longtable}
\usepackage{graphicx}
\makeatletter
\def\maxwidth{\ifdim\Gin@nat@width>\linewidth\linewidth\else\Gin@nat@width\fi}
\def\maxheight{\ifdim\Gin@nat@height>\textheight\textheight\else\Gin@nat@height\fi}
\makeatother
% Scale images if necessary, so that they will not overflow the page
% margins by default, and it is still possible to overwrite the defaults
% using explicit options in \includegraphics[width, height, ...]{}
\setkeys{Gin}{width=\maxwidth,height=\maxheight,keepaspectratio}
% Set default figure placement to htbp
\makeatletter
\def\fps@figure{htbp}
\makeatother
\setlength{\emergencystretch}{3em} % prevent overfull lines
\providecommand{\tightlist}{%
  \setlength{\itemsep}{0pt}\setlength{\parskip}{0pt}}
\setcounter{secnumdepth}{5}
\usepackage{booktabs}
\usepackage{amsthm}
\makeatletter
\def\thm@space@setup{%
  \thm@preskip=8pt plus 2pt minus 4pt
  \thm@postskip=\thm@preskip
}
\makeatother
\ifLuaTeX
  \usepackage{selnolig}  % disable illegal ligatures
\fi
\usepackage[]{natbib}
\bibliographystyle{plainnat}
\usepackage{bookmark}
\IfFileExists{xurl.sty}{\usepackage{xurl}}{} % add URL line breaks if available
\urlstyle{same}
\hypersetup{
  pdftitle={Módulo 2 - Unidad~1~· Holt-Winters y suavizamiento exponencial},
  pdfauthor={Vladimir Castillo Pérez},
  hidelinks,
  pdfcreator={LaTeX via pandoc}}

\title{Módulo 2 - Unidad~1~· Holt-Winters y suavizamiento exponencial}
\author{Vladimir Castillo Pérez}
\date{2025-05-11}

\begin{document}
\maketitle

{
\setcounter{tocdepth}{1}
\tableofcontents
}
\chapter{Introducción}\label{introducciuxf3n}

El comportamiento de los precios de los activos financieros ---en particular, las acciones que componen el MSCI~COLCAP--- influye directamente en la toma de decisiones de inversionistas institucionales y minoristas. Comprender la \emph{dinámica temporal} de estos precios permite anticipar tendencias, cuantificar el riesgo y diseñar estrategias de cobertura que respalden la estabilidad de carteras de inversión. Por ello, \textbf{el objetivo de este trabajo es construir y mantener una serie temporal diaria de precios ajustados de las principales acciones negociadas en la Bolsa de Valores de Colombia (bvc)}, para aplicar técnicas de pronóstico que generen un valor agregado a los agentes de mercado.

\chapter{Justificación}\label{justificaciuxf3n}

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\item
  \textbf{Relevancia económica.}\\
  Las acciones representan uno de los vehículos de inversión más importantes para el ahorro de largo plazo en Colombia; su correcta valoración afecta fondos de pensiones, aseguradoras y cuentas individuales de inversionistas. Un pronóstico robusto contribuye a:

  \begin{itemize}
  \tightlist
  \item
    Estimar rendimientos esperados y volatilidad futura.\\
  \item
    Determinar precios objetivo y rangos de error.\\
  \item
    Optimizar la asignación de activos bajo restricciones regulatorias.
  \end{itemize}
\item
  \textbf{Disponibilidad y calidad de datos.}\\
  Los precios de cierre ajustados, volúmenes y factores de mercado están \textbf{libremente disponibles} mediante APIs públicas (‐\,\texttt{yfinance}, Alpha\,Vantage) y por la bvc para fines académicos. Esto garantiza series largas, consistentes y actualizadas con una granularidad adecuada (diaria).
\item
  \textbf{Potencial de transferencia.}\\
  El conocimiento derivado ---modelos ARIMA, ETS, Prophet o redes LSTM--- es extrapolable a otros activos (ETF, commodities) y a escenarios de \emph{stress testing}, fortaleciendo la educación financiera y la gestión de portafolios.
\end{enumerate}

\chapter{Fuentes de información y permisos}\label{fuentes-de-informaciuxf3n-y-permisos}

\begin{longtable}[]{@{}
  >{\raggedright\arraybackslash}p{(\columnwidth - 4\tabcolsep) * \real{0.1905}}
  >{\raggedright\arraybackslash}p{(\columnwidth - 4\tabcolsep) * \real{0.3333}}
  >{\raggedright\arraybackslash}p{(\columnwidth - 4\tabcolsep) * \real{0.4762}}@{}}
\toprule\noalign{}
\begin{minipage}[b]{\linewidth}\raggedright
Fuente
\end{minipage} & \begin{minipage}[b]{\linewidth}\raggedright
Tipo de dato
\end{minipage} & \begin{minipage}[b]{\linewidth}\raggedright
Condiciones de uso
\end{minipage} \\
\midrule\noalign{}
\endhead
\bottomrule\noalign{}
\endlastfoot
Yahoo\,Finance API (\texttt{yfinance}) & Precios históricos de acciones (OHLC~+~volumen) & Uso libre para fines académicos y no comerciales. \\
Bolsa de Valores de Colombia --~bvc & Archivo diario de precios y volúmenes (CSV) & Descarga gratuita; requiere mención de la bvc como fuente. \\
\end{longtable}

\begin{quote}
\textbf{Permisos}\\
Todos los datasets serán utilizados exclusivamente con propósitos académicos. Las citas a Yahoo\,Finance se incluyen conforme a sus términos de servicio; la bvc autoriza expresamente el uso de datos para análisis sin fines de lucro, citando la fuente.
\end{quote}

\chapter{Alcance del pronóstico}\label{alcance-del-pronuxf3stico}

\section{\texorpdfstring{El análisis abarcará un horizonte de \textbf{30 a 90\,días} con reevaluación semanal, priorizando métricas de precisión como \emph{MAE} y \emph{RMSE} y la construcción de intervalos de predicción al 95\,\%.}{El análisis abarcará un horizonte de 30 a 90\,días con reevaluación semanal, priorizando métricas de precisión como MAE y RMSE y la construcción de intervalos de predicción al 95\,\%.}}\label{el-anuxe1lisis-abarcaruxe1-un-horizonte-de-30-a-90-duxedas-con-reevaluaciuxf3n-semanal-priorizando-muxe9tricas-de-precisiuxf3n-como-mae-y-rmse-y-la-construcciuxf3n-de-intervalos-de-predicciuxf3n-al-95-.}

* Este documento forma parte del curso \emph{Análisis de series de tiempo} (Maestría en Ciencia de Datos) y se mantendrá en el repositorio público \textbf{\url{https://github.com/vladimircp/bookdown}} bajo licencia CC~BY‑NC‑SA~4.0.

\chapter{Unidad~2~· Patrones temporales en precios de acciones}\label{unidad2}

\textbf{Patrones temporales en precios de acciones}

A lo largo de esta unidad analizaremos cómo descargar, preparar y visualizar series temporales de precios de acciones, calcular indicadores básicos (medias móviles y rendimientos), evaluar la autocorrelación y descomponer la serie en sus componentes de tendencia, estacionalidad y ruido.

\section{Configuración inicial}\label{configuraciuxf3n-inicial}

En esta sección definimos las opciones globales de \texttt{knitr} para controlar la salida de mensajes, advertencias y la apariencia de los gráficos. Además, cargamos todas las librerías necesarias para el análisis.

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{knitr}\SpecialCharTok{::}\NormalTok{opts\_chunk}\SpecialCharTok{$}\FunctionTok{set}\NormalTok{(}
  \AttributeTok{echo       =} \ConstantTok{TRUE}\NormalTok{,  }\CommentTok{\# mostrar código}
  \AttributeTok{message    =} \ConstantTok{FALSE}\NormalTok{,}
  \AttributeTok{warning    =} \ConstantTok{FALSE}\NormalTok{,}
  \AttributeTok{fig.align  =} \StringTok{"center"}\NormalTok{,}
  \AttributeTok{fig.width  =} \DecValTok{7}\NormalTok{,}
  \AttributeTok{fig.height =} \DecValTok{4}
\NormalTok{)}
\FunctionTok{library}\NormalTok{(tidyquant)   }\CommentTok{\# facilita la descarga y graficación}
\FunctionTok{library}\NormalTok{(dplyr)}
\FunctionTok{library}\NormalTok{(ggplot2)}
\FunctionTok{library}\NormalTok{(tsibble)     }\CommentTok{\# manipulación de series}
\FunctionTok{library}\NormalTok{(feasts)      }\CommentTok{\# descomposición y ACF}
\FunctionTok{library}\NormalTok{(quantmod)}
\FunctionTok{library}\NormalTok{(zoo)}
\end{Highlighting}
\end{Shaded}

\section{Definición de parámetros y descarga de datos}\label{definiciuxf3n-de-paruxe1metros-y-descarga-de-datos}

Aquí especificamos el símbolo bursátil (symbol) y el rango de fechas (fecha\_ini a fecha\_fin). Luego usamos quantmod::getSymbols() para traer los precios ajustados de cierre desde Yahoo Finance.

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{symbol    }\OtherTok{\textless{}{-}} \StringTok{"AAPL"}                    \CommentTok{\# Símbolo de Apple}
\NormalTok{fecha\_ini }\OtherTok{\textless{}{-}} \FunctionTok{as.Date}\NormalTok{(}\StringTok{"2022{-}01{-}01"}\NormalTok{)     }\CommentTok{\# Fecha de inicio}
\NormalTok{fecha\_fin }\OtherTok{\textless{}{-}} \FunctionTok{Sys.Date}\NormalTok{()                }\CommentTok{\# Fecha final (hoy)}

\CommentTok{\# Descarga la serie histórica como objeto xts}
\NormalTok{stock\_xts }\OtherTok{\textless{}{-}} \FunctionTok{getSymbols}\NormalTok{(}
\NormalTok{  symbol,}
  \AttributeTok{src         =} \StringTok{"yahoo"}\NormalTok{,}
  \AttributeTok{from        =}\NormalTok{ fecha\_ini,}
  \AttributeTok{to          =}\NormalTok{ fecha\_fin,}
  \AttributeTok{auto.assign =} \ConstantTok{FALSE}
\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\section{Preparación y limpieza de datos}\label{preparaciuxf3n-y-limpieza-de-datos}

Convertimos el objeto xts en un data.frame, renombramos las columnas para facilitar su uso y seleccionamos solo la fecha y el precio ajustado.

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# De xts a data.frame con columna \textquotesingle{}fecha\textquotesingle{}}
\NormalTok{stock\_df }\OtherTok{\textless{}{-}} \FunctionTok{data.frame}\NormalTok{(}
  \AttributeTok{fecha =}\NormalTok{ zoo}\SpecialCharTok{::}\FunctionTok{index}\NormalTok{(stock\_xts),}
  \FunctionTok{coredata}\NormalTok{(stock\_xts),}
  \AttributeTok{row.names =} \ConstantTok{NULL}
\NormalTok{)}

\CommentTok{\# Renombrar columnas para mayor claridad}
\FunctionTok{colnames}\NormalTok{(stock\_df) }\OtherTok{\textless{}{-}} \FunctionTok{c}\NormalTok{(}
  \StringTok{"fecha"}\NormalTok{,}
  \StringTok{"open"}\NormalTok{, }\StringTok{"high"}\NormalTok{, }\StringTok{"low"}\NormalTok{, }\StringTok{"close"}\NormalTok{, }\StringTok{"volume"}\NormalTok{, }\StringTok{"adjusted"}
\NormalTok{)}

\CommentTok{\# Seleccionar solo fecha y precio ajustado}
\NormalTok{precio\_df }\OtherTok{\textless{}{-}}\NormalTok{ stock\_df }\SpecialCharTok{\%\textgreater{}\%}
  \FunctionTok{select}\NormalTok{(}
\NormalTok{    fecha,}
    \AttributeTok{precio =}\NormalTok{ adjusted}
\NormalTok{  )}

\CommentTok{\# Mostrar las primeras filas}
\FunctionTok{head}\NormalTok{(precio\_df)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
##        fecha   precio
## 1 2022-01-03 178.8799
## 2 2022-01-04 176.6096
## 3 2022-01-05 171.9118
## 4 2022-01-06 169.0421
## 5 2022-01-07 169.2091
## 6 2022-01-10 169.2288
\end{verbatim}

\section{Visualización del precio ajustado diario}\label{visualizaciuxf3n-del-precio-ajustado-diario}

En este paso creamos un gráfico de línea para observar la evolución diaria del precio ajustado de la acción.

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{ggplot}\NormalTok{(precio\_df, }\FunctionTok{aes}\NormalTok{(}\AttributeTok{x =}\NormalTok{ fecha, }\AttributeTok{y =}\NormalTok{ precio)) }\SpecialCharTok{+}
  \FunctionTok{geom\_line}\NormalTok{() }\SpecialCharTok{+}
  \FunctionTok{labs}\NormalTok{(}
    \AttributeTok{title =} \StringTok{"Precio Ajustado Diario de Apple"}\NormalTok{,}
    \AttributeTok{x     =} \ConstantTok{NULL}\NormalTok{,}
    \AttributeTok{y     =} \StringTok{"Precio (USD)"}
\NormalTok{  ) }\SpecialCharTok{+}
  \FunctionTok{theme\_minimal}\NormalTok{()}
\end{Highlighting}
\end{Shaded}

\begin{center}\includegraphics{bookdown-demo_files/figure-latex/unnamed-chunk-4-1} \end{center}

El gráfico muestra la evolución diaria del precio ajustado de la acción de Apple (AAPL) desde comienzos de 2022 hasta mediados de 2025. A grandes rasgos podemos distinguir tres fases:

Fase bajista (ene 2022--dic 2022):

A inicios de 2022 el precio rondaba los USD 160--170, pero durante el año se produce una tendencia general a la baja.

Hacia finales de 2022 alcanza mínimos alrededor de USD 120, reflejando probablemente el impacto de la subida de tipos de interés y la aversión al riesgo en el sector tecnológico.

Recuperación y consolidación (ene 2023--jun 2024):

A partir de enero de 2023 el precio inicia un rebote sostenido, superando los USD 150 ya en la primera mitad del año.

Entre mediados de 2023 y mitad de 2024 se mueve en un rango aproximadamente entre USD 170 y USD 200, señal de una consolidación tras la fuerte caída previa.

Rally alcista y corrección reciente (jul 2024--2025):

Desde mediados de 2024 el precio rompe la resistencia en USD 200 y se dispara hasta tocar picos próximos a USD 250 a comienzos de 2025, probablemente animado por resultados financieros sólidos y expectativas de crecimiento.

Posteriormente se observa una corrección, con el precio retrocediendo hacia la zona de USD 200--220, un nivel que podría actuar ahora como soporte.

En conjunto, el gráfico evidencia (a) alta volatilidad intradía, (b) un claro cambio de tendencia de bajista a alcista a inicios de 2023, y (c) zonas de soporte/resistencia alrededor de USD 120--130, USD 170--200 y USD 240--250. Este comportamiento es consistente con ciclos de mercado impulsados por datos macroeconómicos, resultados corporativos y sentimiento sobre el crecimiento tecnológico.

\section{Cálculo y visualización de medias móviles}\label{cuxe1lculo-y-visualizaciuxf3n-de-medias-muxf3viles}

Calculamos dos medias móviles simples (20 y 60 días) para suavizar la serie y captar posibles tendencias de corto y mediano plazo. Luego las graficamos junto con el precio original.

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{precio\_df }\OtherTok{\textless{}{-}}\NormalTok{ precio\_df }\SpecialCharTok{\%\textgreater{}\%}
  \FunctionTok{mutate}\NormalTok{(}
    \AttributeTok{sma\_20 =} \FunctionTok{SMA}\NormalTok{(precio, }\AttributeTok{n =} \DecValTok{20}\NormalTok{),}
    \AttributeTok{sma\_60 =} \FunctionTok{SMA}\NormalTok{(precio, }\AttributeTok{n =} \DecValTok{60}\NormalTok{)}
\NormalTok{  )}

\FunctionTok{ggplot}\NormalTok{(precio\_df, }\FunctionTok{aes}\NormalTok{(}\AttributeTok{x =}\NormalTok{ fecha)) }\SpecialCharTok{+}
  \FunctionTok{geom\_line}\NormalTok{(}\FunctionTok{aes}\NormalTok{(}\AttributeTok{y =}\NormalTok{ precio),    }\AttributeTok{colour =} \StringTok{"grey60"}\NormalTok{) }\SpecialCharTok{+}
  \FunctionTok{geom\_line}\NormalTok{(}\FunctionTok{aes}\NormalTok{(}\AttributeTok{y =}\NormalTok{ sma\_20),    }\AttributeTok{colour =} \StringTok{"steelblue"}\NormalTok{,  }\AttributeTok{size =} \FloatTok{0.7}\NormalTok{) }\SpecialCharTok{+}
  \FunctionTok{geom\_line}\NormalTok{(}\FunctionTok{aes}\NormalTok{(}\AttributeTok{y =}\NormalTok{ sma\_60),    }\AttributeTok{colour =} \StringTok{"firebrick"}\NormalTok{,  }\AttributeTok{size =} \FloatTok{0.7}\NormalTok{) }\SpecialCharTok{+}
  \FunctionTok{labs}\NormalTok{(}
    \AttributeTok{title   =} \StringTok{"Precio vs. Promedios Móviles (20 y 60 días)"}\NormalTok{,}
    \AttributeTok{x       =} \ConstantTok{NULL}\NormalTok{,}
    \AttributeTok{y       =} \StringTok{"Precio (USD)"}\NormalTok{,}
    \AttributeTok{caption =} \StringTok{"Cálculo con tidyquant::SMA"}
\NormalTok{  ) }\SpecialCharTok{+}
  \FunctionTok{theme\_minimal}\NormalTok{()}
\end{Highlighting}
\end{Shaded}

\begin{center}\includegraphics{bookdown-demo_files/figure-latex/unnamed-chunk-5-1} \end{center}

El gráfico superpone el precio diario de Apple (línea gris) con dos medias móviles simples: la de 20 días (línea azul) y la de 60 días (línea roja). A continuación algunos puntos clave de interpretación:

\textbf{Suavizado y tendencia}

\begin{itemize}
\item
  La SMA de 20 días reacciona con menor retraso a los cambios de precio, reflejando con más fidelidad las oscilaciones de corto plazo.
\item
  La SMA de 60 días, al promediar un periodo más largo, muestra la tendencia de fondo con menos ruido.
\end{itemize}

\textbf{Fases de mercado y cruces}

\textbf{Bajista (2022):} durante gran parte de 2022 la SMA-20 (azul) se mantiene por debajo de la SMA-60 (roja), confirmando un sesgo bajista.

\textbf{Golden cross (primer trimestre 2023):} el cruce alcista de la SMA-20 por encima de la SMA-60 a principios de 2023 marcó un cambio de impulso a favor de los compradores. Tras ese cruce, el precio encuentra soporte en ambas medias y arranca la recuperación.

\textbf{Consolidación (mediados de 2023--2024):} las dos medias se aproximan y se entrecruzan varias veces, señal de un rango lateral con fases alternadas de ventaja para alcistas y bajistas.

\textbf{Nuevo rally (finales de 2024):} vuelve a formarse un golden cross antes de que el precio alcance los máximos cerca de USD 250. La SMA-20 se separa de la SMA-60, reforzando la fuerza alcista.

\textbf{Death cross reciente (2025):¨} la SMA-20 corta a la baja la SMA-60 después del pico, indicando un posible cambio de impulso hacia una fase correctiva.

\textbf{Señales de trading y confirmaciones}

\begin{itemize}
\item
  Un cruce alcista (SMA-20 \textgreater{} SMA-60) suele interpretarse como señal de compra, especialmente si coincide con ruptura de resistencias en el precio.
\item
  Un cruce bajista (SMA-20 \textless{} SMA-60) se toma como señal de venta o cautela, más sólida si acompaña caídas por debajo de soportes técnicos.
\end{itemize}

\textbf{Limitaciones}

\begin{itemize}
\item
  Las medias móviles introducen retraso (``lag''): reaccionan después de que el precio ya ha comenzado a moverse.
\item
  En mercados muy volátiles pueden generar señales falsas cuando las medias se cruzan con frecuencia.
\end{itemize}

\section{Cálculo de rendimientos diarios y ACF}\label{cuxe1lculo-de-rendimientos-diarios-y-acf}

Primero convertimos el data.frame a un tsibble para aprovechar las funciones de feasts. Calculamos el rendimiento diario en porcentaje, rellenamos posibles huecos implícitos y, por último, analizamos la autocorrelación de esos rendimientos.

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{precio\_ts }\OtherTok{\textless{}{-}}\NormalTok{ precio\_df }\SpecialCharTok{\%\textgreater{}\%}
  \FunctionTok{as\_tsibble}\NormalTok{(}\AttributeTok{index =}\NormalTok{ fecha) }\SpecialCharTok{\%\textgreater{}\%}
  \FunctionTok{mutate}\NormalTok{(}
    \AttributeTok{ret\_diario =}\NormalTok{ (precio }\SpecialCharTok{/} \FunctionTok{lag}\NormalTok{(precio) }\SpecialCharTok{{-}} \DecValTok{1}\NormalTok{) }\SpecialCharTok{*} \DecValTok{100}
\NormalTok{  )}

\CommentTok{\# Rellenar huecos para evitar errores en ACF}
\NormalTok{precio\_ts\_filled }\OtherTok{\textless{}{-}}\NormalTok{ precio\_ts }\SpecialCharTok{\%\textgreater{}\%}
  \FunctionTok{fill\_gaps}\NormalTok{()}

\FunctionTok{ggplot}\NormalTok{(precio\_ts, }\FunctionTok{aes}\NormalTok{(}\AttributeTok{x =}\NormalTok{ fecha, }\AttributeTok{y =}\NormalTok{ ret\_diario)) }\SpecialCharTok{+}
  \FunctionTok{geom\_line}\NormalTok{(}\AttributeTok{colour =} \StringTok{"darkorange"}\NormalTok{) }\SpecialCharTok{+}
  \FunctionTok{labs}\NormalTok{(}
    \AttributeTok{title =} \StringTok{"Rendimiento Diario (\%)"}\NormalTok{,}
    \AttributeTok{x     =} \ConstantTok{NULL}\NormalTok{,}
    \AttributeTok{y     =} \StringTok{"Variación \%"}
\NormalTok{  ) }\SpecialCharTok{+}
  \FunctionTok{theme\_minimal}\NormalTok{()}
\end{Highlighting}
\end{Shaded}

\begin{center}\includegraphics{bookdown-demo_files/figure-latex/unnamed-chunk-6-1} \end{center}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{precio\_ts\_filled }\SpecialCharTok{\%\textgreater{}\%}
  \FunctionTok{ACF}\NormalTok{(ret\_diario, }\AttributeTok{lag\_max =} \DecValTok{30}\NormalTok{) }\SpecialCharTok{\%\textgreater{}\%}
  \FunctionTok{autoplot}\NormalTok{() }\SpecialCharTok{+}
  \FunctionTok{labs}\NormalTok{(}
    \AttributeTok{title =} \StringTok{"Función de Autocorrelación (ACF) · Rendimientos"}\NormalTok{,}
    \AttributeTok{x     =} \StringTok{"Rezagos (días)"}\NormalTok{,}
    \AttributeTok{y     =} \StringTok{"ACF"}
\NormalTok{  ) }\SpecialCharTok{+}
  \FunctionTok{theme\_minimal}\NormalTok{()}
\end{Highlighting}
\end{Shaded}

\begin{center}\includegraphics{bookdown-demo_files/figure-latex/unnamed-chunk-6-2} \end{center}

El primer gráfico muestra la serie de rendimientos diarios (\%) de Apple entre 2022 y mediados de 2025:

\textbf{Media cercana a cero:} la nube de puntos (línea continua) oscila alrededor de 0 \%, lo cual es típico en rendimientos de activos cuyo valor esperado diario es casi nulo.

\textbf{Volatilidad variable:} se aprecian periodos de baja dispersión (p.~ej. gran parte de 2024) y episodios de alta volatilidad (fines de 2022, principios de 2023 y otra vez en 2025), donde los retornos superan ±5 \% en un solo día. Estos ``spikes'' coinciden probablemente con anuncios de resultados trimestrales o noticias macro.

\textbf{Clusters de volatilidad:} los picos tienden a agruparse, indicando que tras un día muy volátil suele haber más días de alta volatilidad, y viceversa.

El segundo gráfico es la Función de Autocorrelación (ACF) de los rendimientos (hasta 30 rezagos):

\textbf{Rezago 1: autocorrelación negativa significativa}
El coeficiente en el rezago 1 aparece por debajo de la banda de significancia (aprox. --0.10), lo que sugiere un ligero efecto de reversión inmediata: un día de ganancia tiende a ir seguido, en promedio, por un pequeño retroceso al día siguiente.

\textbf{Un rezago positivo aislado}
Se observa un único bar por encima de la banda superior en un rezago medio (p.~ej. alrededor de 15--20 días), lo que podría apuntar a una débil pauta de retorno alcista mensual, aunque este efecto es muy débil y aislado.

\textbf{Ausencia de autocorrelaciones consistentes}
Más allá de esos dos rezagos, todos los demás coeficientes caen dentro de las bandas de confianza, indicando que los rendimientos diarios, salvo esas dos excepciones, se comportan esencialmente como una serie sin memoria (compatible con la hipótesis de mercados eficientes en su forma débil).

En conjunto, estos gráficos resaltan que los retornos de Apple presentan volatilidad heterogénea y muy poca dependencia temporal, salvo un ligero sesgo de reversión intradía y una señal puntual de autocorrelación mensual.

\section{Estacionalidad y descomposición STL}\label{estacionalidad-y-descomposiciuxf3n-stl}

Agrupamos la serie por mes (usando el promedio mensual) y aplicamos un modelo STL para extraer las componentes de tendencia, estacionalidad y residuos.

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# Promedio mensual}
\NormalTok{precio\_mens }\OtherTok{\textless{}{-}}\NormalTok{ precio\_ts }\SpecialCharTok{\%\textgreater{}\%}
  \FunctionTok{index\_by}\NormalTok{(}\AttributeTok{mes =} \SpecialCharTok{\textasciitilde{}} \FunctionTok{yearmonth}\NormalTok{(.)) }\SpecialCharTok{\%\textgreater{}\%}
  \FunctionTok{summarise}\NormalTok{(}\AttributeTok{precio =} \FunctionTok{mean}\NormalTok{(precio, }\AttributeTok{na.rm =} \ConstantTok{TRUE}\NormalTok{))}

\CommentTok{\# Descomposición STL con ventana de 13 meses}
\NormalTok{stl\_descomp }\OtherTok{\textless{}{-}}\NormalTok{ precio\_mens }\SpecialCharTok{\%\textgreater{}\%}
  \FunctionTok{model}\NormalTok{(}\FunctionTok{STL}\NormalTok{(precio }\SpecialCharTok{\textasciitilde{}} \FunctionTok{trend}\NormalTok{(}\AttributeTok{window =} \DecValTok{13}\NormalTok{)))}

\CommentTok{\# Graficar componentes}
\FunctionTok{components}\NormalTok{(stl\_descomp) }\SpecialCharTok{\%\textgreater{}\%}
  \FunctionTok{autoplot}\NormalTok{() }\SpecialCharTok{+}
  \FunctionTok{labs}\NormalTok{(}
    \AttributeTok{title =} \StringTok{"Descomposición STL · Precio Mensual Promedio"}\NormalTok{,}
    \AttributeTok{x     =} \ConstantTok{NULL}
\NormalTok{  ) }\SpecialCharTok{+}
  \FunctionTok{theme\_minimal}\NormalTok{()}
\end{Highlighting}
\end{Shaded}

\begin{center}\includegraphics{bookdown-demo_files/figure-latex/unnamed-chunk-7-1} \end{center}

En este gráfico vemos la descomposición STL de la serie de precio mensual promedio de Apple en tres componentes:

\textbf{Serie original (precio)}

\textbf{Panel superior:} muestra el promedio mensual del precio ajustado. Se aprecia claramente la misma dinámica que en los gráficos diarios, pero suavizada al promediar por mes: un descenso durante 2022, consolidación en 2023, y un fuerte ascenso desde mediados de 2024 hasta principios de 2025, con una leve corrección al final.

\textbf{Tendencia (trend)}

\textbf{Segundo panel:} extrae la ``línea de fondo'' de largo plazo. Aquí la tendencia es casi plana durante 2022, comienza a subir de forma continua a partir de comienzos de 2023 y acelera entre mediados de 2024 y principios de 2025, alcanzando un nivel cercano a 230 USD. Esta componente confirma el cambio de sesgo de mercado de neutro/bajista a fuertemente alcista.

\textbf{Estacionalidad anual (season\_year)}

\textbf{Tercer panel:} muestra el patrón estacional que se repite cada año. La amplitud es de unos ±8--10 USD alrededor de la tendencia:

\begin{itemize}
\item
  Aparece un pico positivo en torno al primer trimestre (posiblemente enero--marzo),
\item
  Seguido de un descenso por debajo de cero hacia verano,
\item
  Otro repunte moderado hacia el último tramo del año.
\item
  Esto indica que, sin importar la tendencia alcista de fondo, hay meses que tienden a estar sistemáticamente por encima (picos) o por debajo (valles) de lo que marca la tendencia.
\end{itemize}

\textbf{Residuales (remainder)}

\textbf{Panel inferior:} recoge las oscilaciones irregulares no explicadas por la tendencia ni la estacionalidad. Se observa que, salvo algunos ``outliers'' (picos muy altos o muy bajos), la mayoría de los residuos fluctúa dentro de ±5 USD, lo que sugiere que el modelo STL captura bien las dos componentes principales y deja poca varianza sin explicar.

\textbf{Conclusión:}

\begin{itemize}
\item
  La serie tiene una tendencia alcista clara desde 2023.
\item
  Existe un patrón estacional anual de amplitud moderada, con máximos en el primer trimestre y mínimos en verano.
\item
  Los residuales son relativamente pequeños, lo que indica que la evolución de los precios mensuales se explica en gran medida por la combinación de estos dos factores.
\end{itemize}

\chapter{Unidad~3~· Procesamiento y Visualización}\label{unidad3}

\section{Prueba de estacionariedad}\label{prueba-de-estacionariedad}

Para comprobar si la serie de precio mensual promedio es estacionaria en media, utilizamos la función ndiffs() del paquete forecast, que estima cuántas diferencias son necesarias para eliminar la raíz unitaria. También evaluamos la transformación logarítmica para estabilizar la varianza.

\textbf{Interpretación}

\begin{itemize}
\item
  Si num\_diff\_raw \textgreater{} 0, la serie original no es estacionaria y requerirá diferenciación.
\item
  Si num\_diff\_log \textless{} num\_diff\_raw, la transformación logarítmica ayuda a estabilizar la varianza antes de diferenciar.
\end{itemize}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# Cargar librerías necesarias}
\FunctionTok{library}\NormalTok{(forecast)}
\FunctionTok{library}\NormalTok{(lubridate)}

\CommentTok{\# Convertir el tibble \textquotesingle{}precio\_mens\textquotesingle{} a serie de tiempo ts}
\CommentTok{\# Asumimos que precio\_mens tiene columnas \textquotesingle{}mes\textquotesingle{} (yearmonth) y \textquotesingle{}precio\textquotesingle{}}
\NormalTok{precio\_mens\_ts }\OtherTok{\textless{}{-}} \FunctionTok{ts}\NormalTok{(}
\NormalTok{  precio\_mens}\SpecialCharTok{$}\NormalTok{precio,}
  \AttributeTok{start     =} \FunctionTok{c}\NormalTok{(}\FunctionTok{year}\NormalTok{(}\FunctionTok{min}\NormalTok{(precio\_mens}\SpecialCharTok{$}\NormalTok{mes)), }\FunctionTok{month}\NormalTok{(}\FunctionTok{min}\NormalTok{(precio\_mens}\SpecialCharTok{$}\NormalTok{mes))),}
  \AttributeTok{frequency =} \DecValTok{12}
\NormalTok{)}

\CommentTok{\# Calcular número de diferencias para estacionariedad}
\NormalTok{num\_diff\_raw }\OtherTok{\textless{}{-}} \FunctionTok{ndiffs}\NormalTok{(precio\_mens\_ts)}
\NormalTok{num\_diff\_log }\OtherTok{\textless{}{-}} \FunctionTok{ndiffs}\NormalTok{(}\FunctionTok{log}\NormalTok{(precio\_mens\_ts))}

\CommentTok{\# Mostrar resultados}
\FunctionTok{cat}\NormalTok{(}\StringTok{"Diferencias necesarias (serie original):"}\NormalTok{, num\_diff\_raw, }\StringTok{"}\SpecialCharTok{\textbackslash{}n}\StringTok{"}\NormalTok{)}
\FunctionTok{cat}\NormalTok{(}\StringTok{"Diferencias necesarias (serie logarítmica):"}\NormalTok{, num\_diff\_log, }\StringTok{"}\SpecialCharTok{\textbackslash{}n}\StringTok{"}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## Diferencias necesarias (serie original): 1 
## Diferencias necesarias (serie logarítmica): 1
\end{verbatim}

\section{Diferenciación y transformación}\label{diferenciaciuxf3n-y-transformaciuxf3n}

Aplicamos las transformaciones según lo sugerido:

\begin{itemize}
\item
  Si la serie original necesita d diferencias, calculamos diff(precio\_mens\_ts, differences = d).
\item
  Si la versión logarítmica requiere menos diferencias, operamos sobre log(precio\_mens\_ts).
\end{itemize}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# Diferenciación serie original (si num\_diff\_raw \textgreater{} 0)}
\ControlFlowTok{if}\NormalTok{ (num\_diff\_raw }\SpecialCharTok{\textgreater{}} \DecValTok{0}\NormalTok{) \{}
\NormalTok{  precio\_diff\_raw }\OtherTok{\textless{}{-}} \FunctionTok{diff}\NormalTok{(precio\_mens\_ts, }\AttributeTok{differences =}\NormalTok{ num\_diff\_raw)}
\NormalTok{\} }\ControlFlowTok{else}\NormalTok{ \{}
\NormalTok{  precio\_diff\_raw }\OtherTok{\textless{}{-}}\NormalTok{ precio\_mens\_ts}
\NormalTok{\}}

\CommentTok{\# Transformación logarítmica y diferenciación (si num\_diff\_log \textgreater{} 0)}
\NormalTok{precio\_log\_ts }\OtherTok{\textless{}{-}} \FunctionTok{log}\NormalTok{(precio\_mens\_ts)}
\ControlFlowTok{if}\NormalTok{ (num\_diff\_log }\SpecialCharTok{\textgreater{}} \DecValTok{0}\NormalTok{) \{}
\NormalTok{  precio\_diff\_log }\OtherTok{\textless{}{-}} \FunctionTok{diff}\NormalTok{(precio\_log\_ts, }\AttributeTok{differences =}\NormalTok{ num\_diff\_log)}
\NormalTok{\} }\ControlFlowTok{else}\NormalTok{ \{}
\NormalTok{  precio\_diff\_log }\OtherTok{\textless{}{-}}\NormalTok{ precio\_log\_ts}
\NormalTok{\}}

\CommentTok{\# Graficar para comparar estabilidad de varianza y tendencia eliminada}
\FunctionTok{autoplot}\NormalTok{(precio\_diff\_raw) }\SpecialCharTok{+}
  \FunctionTok{labs}\NormalTok{(}\AttributeTok{title =} \StringTok{"Serie Mensual Diferenciada (original)"}\NormalTok{,}
       \AttributeTok{y =} \StringTok{"Δ Precio"}\NormalTok{, }\AttributeTok{x =} \StringTok{"Tiempo"}\NormalTok{) }\SpecialCharTok{+}
  \FunctionTok{theme\_minimal}\NormalTok{()}
\end{Highlighting}
\end{Shaded}

\begin{center}\includegraphics{bookdown-demo_files/figure-latex/unnamed-chunk-9-1} \end{center}

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{autoplot}\NormalTok{(precio\_diff\_log) }\SpecialCharTok{+}
  \FunctionTok{labs}\NormalTok{(}\AttributeTok{title =} \StringTok{"Serie Mensual Log{-}Diferenciada"}\NormalTok{,}
       \AttributeTok{y =} \StringTok{"Δ log(Precio)"}\NormalTok{, }\AttributeTok{x =} \StringTok{"Tiempo"}\NormalTok{) }\SpecialCharTok{+}
  \FunctionTok{theme\_minimal}\NormalTok{()}
\end{Highlighting}
\end{Shaded}

\begin{center}\includegraphics{bookdown-demo_files/figure-latex/unnamed-chunk-9-2} \end{center}

En ambos gráficos vemos la dinámica mensual de las variaciones en el precio promedio de Apple, pero calculadas de dos maneras distintas: diferencias absolutas en dólares (arriba) y diferencias relativas (log-diferenciadas, abajo).

\textbf{1. Serie Mensual Diferenciada (original)}

\begin{itemize}
\item
  Los valores fluctúan entre aproximadamente −25 USD y +20 USD, lo que refleja la magnitud absoluta de la subida o bajada del precio cada mes.
\item
  La serie oscila alrededor de cero, sin tendencia creciente o decreciente sostenida, lo que confirma que la diferenciación elimina la componente de tendencia.
\item
  Se aprecian ``picos'' más pronunciados en ciertos periodos (por ejemplo finales de 2024 y comienzos de 2025) que indican meses con movimientos de precio inusualmente fuertes.
\item
  La varianza no es completamente constante: hay periodos (p.~ej. 2022 vs.~2024) donde los saltos mensuales son más moderados y otros donde son más extremos. Esto puede complicar el modelado si se requiere homocedasticidad.
\end{itemize}

\textbf{2. Serie Mensual Log-Diferenciada}

\begin{itemize}
\item
  Aquí se muestra la variación mensual en términos porcentuales (Δ log(precio)), con valores en el rango aproximado de −12 \% a +10 \%.
\item
  Al usar logaritmos, las diferencias relativas tienden a ``normalizar'' la escala, de modo que la dispersión sea más homogénea a lo largo del tiempo.
\item
  La serie igualmente oscila alrededor de cero y no exhibe tendencia, pero los ``spikes'' relativos permanecen en un rango acotado, facilitando la comparación de la volatilidad en distintos periodos.
\item
  La varianza aparenta ser más estable (menos heterocedasticidad), lo que suele favorecer el ajuste de modelos ARIMA o GARCH sobre rendimientos logarítmicos.
\end{itemize}

\textbf{Conclusión:}

\begin{itemize}
\item
  Ambos métodos producen series estacionarias en media (oscilan alrededor de cero).
\item
  La serie original diferenciada es útil cuando interesa el cambio absoluto en USD, pero muestra varianza cambiante.
\item
  La serie log-diferenciada concentra los movimientos en porcentajes, homogeneiza la volatilidad y suele ser la opción preferida para modelar rendimientos financieros.
\end{itemize}

\section{Justificación de los procedimientos}\label{justificaciuxf3n-de-los-procedimientos}

\textbf{Estacionariedad en media}

La prueba ndiffs() indicó que la serie original requería

\begin{itemize}
\tightlist
\item
  r num\_diff\_raw diferencias para eliminar la raíz unitaria.
  Sin diferenciación, la componente de tendencia violaría los supuestos de muchos modelos de series temporales (p.~ej. ARIMA).
\end{itemize}

\textbf{Estabilidad de la varianza}

La transformación logarítmica redujo el número de diferencias necesarias

\begin{itemize}
\tightlist
\item
  r num\_diff\_log en la serie logarítmica.
  Esto sugiere que la varianza del precio crece con el nivel de la serie, y el log ayuda a homogeneizar la dispersión a lo largo del tiempo.
\end{itemize}

\textbf{Decisión final}

\begin{itemize}
\item
  Si num\_diff\_log \textless{} num\_diff\_raw, se recomienda modelar la serie log-diferenciada, pues la tendencia y la heterocedasticidad quedan mejor controladas.
\item
  En caso contrario, solo la serie diferenciada es suficiente.
\end{itemize}

Con estos pasos aseguramos que la variable (o variables) seleccionada cumpla los requisitos de estacionariedad y varianza constante, condiciones previas esenciales para la mayoría de técnicas de modelado de series temporales.

\chapter{Módulo 2 - Unidad~1~· Holt-Winters y suavizamiento exponencial}\label{unidad4}

\section{Hot-Winters}\label{hot-winters}

En esta sección se implementará el modelo de Holt-Winters para realizar un pronóstico de la serie temporal mensual del precio ajustado promedio de una acción, utilizando el enfoque ETS (Error-Trend-Seasonal) con componentes aditivos. El modelo de Holt-Winters es una técnica de suavizamiento exponencial que permite capturar tres características esenciales de las series temporales: la tendencia (variación sistemática a lo largo del tiempo), la estacionalidad (patrones que se repiten en intervalos regulares) y el nivel (valor base actual de la serie). Esta metodología es especialmente útil para datos que presentan fluctuaciones estacionales y tendencias definidas, como ocurre en los precios de acciones, y se emplea aquí para generar pronósticos a corto plazo (12 meses), proporcionando además intervalos de confianza que reflejan la incertidumbre del modelo.

\textbf{Criterios de Interpretación}

\begin{itemize}
\item
  La línea azul representa el pronóstico de Holt-Winters para los próximos 12 meses.
\item
  Las bandas sombreadas indican el intervalo de confianza al 95 \%, mostrando los posibles rangos de precios.
\item
  Si el patrón estacional se repite como en años anteriores, el modelo captura sus efectos y los extiende hacia el futuro.
\item
  Las tendencias recientes (ascenso a partir de 2023) son extrapoladas de manera moderada según el suavizamiento del modelo.
\end{itemize}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# Librerías necesarias}
\FunctionTok{library}\NormalTok{(fable)}
\FunctionTok{library}\NormalTok{(fabletools)}
\FunctionTok{library}\NormalTok{(tsibble)}
\FunctionTok{library}\NormalTok{(tsibbledata)}
\FunctionTok{library}\NormalTok{(dplyr)}
\FunctionTok{library}\NormalTok{(ggplot2)}

\CommentTok{\# Asegurarse de que precio\_mens (mensual) está definido como tsibble}
\NormalTok{precio\_tsibble }\OtherTok{\textless{}{-}}\NormalTok{ precio\_mens }\SpecialCharTok{\%\textgreater{}\%}
  \FunctionTok{as\_tsibble}\NormalTok{(}\AttributeTok{index =}\NormalTok{ mes)}

\CommentTok{\# Aplicar modelo Holt{-}Winters (ETS con estacionalidad aditiva)}
\NormalTok{modelo\_hw }\OtherTok{\textless{}{-}}\NormalTok{ precio\_tsibble }\SpecialCharTok{\%\textgreater{}\%}
  \FunctionTok{model}\NormalTok{(}\AttributeTok{HW =} \FunctionTok{ETS}\NormalTok{(precio }\SpecialCharTok{\textasciitilde{}} \FunctionTok{error}\NormalTok{(}\StringTok{"A"}\NormalTok{) }\SpecialCharTok{+} \FunctionTok{trend}\NormalTok{(}\StringTok{"A"}\NormalTok{) }\SpecialCharTok{+} \FunctionTok{season}\NormalTok{(}\StringTok{"A"}\NormalTok{)))}

\CommentTok{\# Generar pronóstico a 12 meses}
\NormalTok{pronostico\_hw }\OtherTok{\textless{}{-}}\NormalTok{ modelo\_hw }\SpecialCharTok{\%\textgreater{}\%}
  \FunctionTok{forecast}\NormalTok{(}\AttributeTok{h =} \StringTok{"12 months"}\NormalTok{)}

\CommentTok{\# Visualizar pronóstico}
\FunctionTok{autoplot}\NormalTok{(pronostico\_hw, precio\_tsibble) }\SpecialCharTok{+}
  \FunctionTok{labs}\NormalTok{(}\AttributeTok{title =} \StringTok{"Pronóstico con Holt{-}Winters (ETS AAA)"}\NormalTok{,}
       \AttributeTok{x =} \StringTok{"Fecha"}\NormalTok{, }\AttributeTok{y =} \StringTok{"Precio promedio mensual (USD)"}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{center}\includegraphics{bookdown-demo_files/figure-latex/unnamed-chunk-10-1} \end{center}

\section{Interpretación de los resultados}\label{interpretaciuxf3n-de-los-resultados}

El gráfico presenta el pronóstico del precio promedio mensual de una acción utilizando el modelo Holt-Winters (ETS AAA), que incluye componentes aditivos para el error, la tendencia y la estacionalidad. La línea negra representa la serie histórica observada, mientras que la línea azul proyecta los valores esperados para los próximos 12 meses. Las bandas sombreadas indican los intervalos de confianza al 80 \% y 95 \%, proporcionando una estimación de la incertidumbre asociada al modelo. Se observa que el precio tiende a estabilizarse en el corto plazo, con una leve tendencia descendente, aunque dentro de un rango de alta dispersión, lo que evidencia la volatilidad inherente a este tipo de activos. A mayor distancia en el tiempo, las bandas se ensanchan, reflejando el aumento de la incertidumbre en las proyecciones futuras. En conjunto, el modelo sugiere cautela, ya que si bien el valor central proyectado es moderadamente estable, existe una amplia posibilidad de variaciones significativas.

\end{document}
